import{S as V,i as X,s as j,G as W,H as Y,e as D,C as g,g as C,m as G,J as T,p as I,t as S,q,n as H,a0 as Z,r as J,V as L,X as M,Y as N,Z as O,b as P,Q as R,I as p,K as x,T as $,ah as ee,y as le}from"./index-ff81f4ae.js";import{a as te}from"./Button-9b3c2f8e.js";import{b as ie}from"./ModifyUpload.svelte_svelte_type_style_lang-d2acacf0.js";/* empty css                                                    */import{X as ne}from"./Blocks-2003a4c7.js";function se(i){let e;const t=i[15].default,l=L(t,i,i[17],null);return{c(){l&&l.c()},m(n,_){l&&l.m(n,_),e=!0},p(n,_){l&&l.p&&(!e||_&131072)&&M(l,t,n,n[17],e?O(t,n[17],_,null):N(n[17]),null)},i(n){e||(I(l,n),e=!0)},o(n){S(l,n),e=!1},d(n){l&&l.d(n)}}}function ae(i){let e,t,l,n,_,m,c,d,r;return m=new te({props:{size:i[4],variant:i[7],elem_id:i[1],elem_classes:i[2],visible:i[3],style:i[0],disabled:i[6]==="static",$$slots:{default:[se]},$$scope:{ctx:i}}}),m.$on("click",i[10]),{c(){e=W("input"),_=Y(),D(m.$$.fragment),g(e,"class","hide svelte-ydeks8"),g(e,"accept",i[9]),g(e,"type","file"),e.multiple=t=i[5]==="multiple"||void 0,g(e,"webkitdirectory",l=i[5]==="directory"||void 0),g(e,"mozdirectory",n=i[5]==="directory"||void 0)},m(f,u){C(f,e,u),i[16](e),C(f,_,u),G(m,f,u),c=!0,d||(r=[T(e,"change",i[11]),T(e,"click",i[12])],d=!0)},p(f,[u]){(!c||u&512)&&g(e,"accept",f[9]),(!c||u&32&&t!==(t=f[5]==="multiple"||void 0))&&(e.multiple=t),(!c||u&32&&l!==(l=f[5]==="directory"||void 0))&&g(e,"webkitdirectory",l),(!c||u&32&&n!==(n=f[5]==="directory"||void 0))&&g(e,"mozdirectory",n);const o={};u&16&&(o.size=f[4]),u&128&&(o.variant=f[7]),u&2&&(o.elem_id=f[1]),u&4&&(o.elem_classes=f[2]),u&8&&(o.visible=f[3]),u&1&&(o.style=f[0]),u&64&&(o.disabled=f[6]==="static"),u&131072&&(o.$$scope={dirty:u,ctx:f}),m.$set(o)},i(f){c||(I(m.$$.fragment,f),c=!0)},o(f){S(m.$$.fragment,f),c=!1},d(f){f&&q(e),i[16](null),f&&q(_),H(m,f),d=!1,Z(r)}}}function fe(i,e,t){let{$$slots:l={},$$scope:n}=e,{style:_={}}=e,{elem_id:m=""}=e,{elem_classes:c=[]}=e,{visible:d=!0}=e,{size:r=_.size||"lg"}=e,{file_count:f}=e,{file_types:u=["file"]}=e,{include_file_metadata:o=!0}=e,{mode:z="dynamic"}=e,{variant:k="secondary"}=e,v;const A=J();let w;u==null?w=null:(u=u.map(a=>a.startsWith(".")?a:a+"/*"),w=u.join(", "));const s=()=>{v.click()},F=a=>{let y=Array.from(a);if(a.length){f==="single"&&(y=[a[0]]);var U=[];y.forEach((E,K)=>{U[K]=o?{name:E.name,size:E.size,data:"",blob:E}:E,U.filter(Q=>Q!==void 0).length===a.length&&A("load",f=="single"?U[0]:U)})}},h=a=>{const y=a.target;y.files&&F(y.files)},b=a=>{const y=a.target;y.value&&(y.value="")};function B(a){P[a?"unshift":"push"](()=>{v=a,t(8,v)})}return i.$$set=a=>{"style"in a&&t(0,_=a.style),"elem_id"in a&&t(1,m=a.elem_id),"elem_classes"in a&&t(2,c=a.elem_classes),"visible"in a&&t(3,d=a.visible),"size"in a&&t(4,r=a.size),"file_count"in a&&t(5,f=a.file_count),"file_types"in a&&t(13,u=a.file_types),"include_file_metadata"in a&&t(14,o=a.include_file_metadata),"mode"in a&&t(6,z=a.mode),"variant"in a&&t(7,k=a.variant),"$$scope"in a&&t(17,n=a.$$scope)},[_,m,c,d,r,f,z,k,v,w,s,h,b,u,o,l,B,n]}class ue extends V{constructor(e){super(),X(this,e,fe,ae,j,{style:0,elem_id:1,elem_classes:2,visible:3,size:4,file_count:5,file_types:13,include_file_metadata:14,mode:6,variant:7})}}function _e(i){let e=i[9](i[4])+"",t;return{c(){t=p(e)},m(l,n){C(l,t,n)},p(l,n){n&528&&e!==(e=l[9](l[4])+"")&&x(t,e)},d(l){l&&q(t)}}}function oe(i){let e,t;return e=new ue({props:{elem_id:i[1],elem_classes:i[2],style:i[0],visible:i[3],file_count:i[5],file_types:i[6],mode:i[7],variant:i[8],$$slots:{default:[_e]},$$scope:{ctx:i}}}),e.$on("click",i[13]),e.$on("load",i[10]),{c(){D(e.$$.fragment)},m(l,n){G(e,l,n),t=!0},p(l,[n]){const _={};n&2&&(_.elem_id=l[1]),n&4&&(_.elem_classes=l[2]),n&1&&(_.style=l[0]),n&8&&(_.visible=l[3]),n&32&&(_.file_count=l[5]),n&64&&(_.file_types=l[6]),n&128&&(_.mode=l[7]),n&256&&(_.variant=l[8]),n&33296&&(_.$$scope={dirty:n,ctx:l}),e.$set(_)},i(l){t||(I(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){H(e,l)}}}function me(i,e,t){let l;R(i,ne,s=>t(9,l=s));let{style:n={}}=e,{elem_id:_=""}=e,{elem_classes:m=[]}=e,{visible:c=!0}=e,{label:d}=e,{value:r}=e,{file_count:f}=e,{file_types:u=["file"]}=e,{root:o}=e,{mode:z="dynamic"}=e,{variant:k="secondary"}=e;async function v({detail:s}){t(11,r=s),await $();let F=(Array.isArray(s)?s:[s]).map(h=>h.blob);ee(o,F).then(async h=>{h.error?(Array.isArray(s)?s:[s]).forEach(async(b,B)=>{b.data=await ie(b.blob)}):(Array.isArray(s)?s:[s]).forEach((b,B)=>{h.files&&(b.orig_name=b.name,b.name=h.files[B],b.is_file=!0)}),A("change",r),A("upload",s)})}const A=J();function w(s){le.call(this,i,s)}return i.$$set=s=>{"style"in s&&t(0,n=s.style),"elem_id"in s&&t(1,_=s.elem_id),"elem_classes"in s&&t(2,m=s.elem_classes),"visible"in s&&t(3,c=s.visible),"label"in s&&t(4,d=s.label),"value"in s&&t(11,r=s.value),"file_count"in s&&t(5,f=s.file_count),"file_types"in s&&t(6,u=s.file_types),"root"in s&&t(12,o=s.root),"mode"in s&&t(7,z=s.mode),"variant"in s&&t(8,k=s.variant)},[n,_,m,c,d,f,u,z,k,l,v,r,o,w]}class ce extends V{constructor(e){super(),X(this,e,me,oe,j,{style:0,elem_id:1,elem_classes:2,visible:3,label:4,value:11,file_count:5,file_types:6,root:12,mode:7,variant:8})}}const he=ce,ve=["static","dynamic"];export{he as Component,ve as modes};
//# sourceMappingURL=index-d8314ff0.js.map
